#!/usr/bin/env bash
set -euo pipefail
IFS=$'\n\t'
PATH=$PATH:/usr/local/bin

{{ ansible_managed | comment }}

hyprctl dispatch togglespecialworkspace $1

if ! hyprctl clients | grep $1 >/dev/null; then
  if [ "$1" == "terminal" ]; then
    wezterm start --class "$1" &
  elif [ "$2" == "terminal" ]; then
    wezterm start --class "$1" "$1" &
  else
    ${@:2} &
  fi

  hyprctl dispatch focuscurrentorlast
fi
