---
- name: "Install taskwarrior and dependencies"
  pacman:
    name: 
      - "task"
      - "python"
      - "python-pip"
    state: "present"
  become: yes

- name: "Install tasklib"
  pip:
    name: "tasklib"
    state: "latest"
    extra_args: "--user"

- name: "Create folder for task configuration"
  file:
    path: "{{ task_config_directory }}"
    state: "directory"

- name: "Copy task configuration"
  template:
    src: "todo/taskrc.j2"
    dest: "{{ task_config_directory }}/taskrc"
    mode: "0600"

- include_role:
    name: "zsh"
    tasks_from: "scripts"
  vars:
    script: "todo"
