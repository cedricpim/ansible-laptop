{{ ansible_managed | comment }}

:ledger: {{ ledger_file }}

:networth:
  :file: {{ ledger_networth }}
  :investments:
{% for investment_category in ledger_investment_categories %}
    - {{ investment_category }}
{% endfor %}
  :exclude:
    :accounts:
{% for excluded_account in ledger_excluded_accounts %}
      - {{ excluded_account }}
{% endfor %}

:exchange:
  :api_key: "{{ ledger_exchange_api_key }}"
  :cache_file: "/tmp/exchange-cache.json"
  :ttl: 86400 # set the seconds after than the current rates are automatically expired

:fields:
  :account:
    :presence: true
  :date:
    :default: "<%= Date.today %>"
    :presence: true
  :category:
    :presence: true
  :description:
    :presence: false
  :venue:
    :presence: false
  :amount:
    :presence: true
  :currency:
    :default: "{{ ledger_currency }}"
    :presence: true
  :travel:
    :presence: false

:report:
  :exclude:
    :categories:
{% for excluded_category in ledger_excluded_categories %}
      - {{ excluded_category }}
{% endfor %}
    :accounts:
{% for excluded_account in ledger_excluded_accounts %}
      - {{ excluded_account }}
{% endfor %}

:format:
  :output:
    :show_totals: yes
    :default: "------"
    :color:
      :header:
        :color: :blue
        :bold: true
      :element:
        :color: :white
      :total:
        :color: :yellow
      :period:
        :color: :magenta
      :money:
        :negative:
          :color: :red
        :neutral:
          :color: :black
        :positive:
          :color: :green
    :title:
      :width: 80
      :align: "center"
      :rule: true
      :color: :cyan
      :bold: true
    :balance:
      :header:
        - Account
        - Amount
      :options:
        - :width: 40
          :align: "right"
          :padding: 5
        - :width: 40
          :align: "left"
          :padding: 5
    :report:
      :header:
        - Category
        - Amount
        - (%)
      :options:
        - :width: 25
        - :width: 20
          :align: "center"
        - :width: 15
          :align: "center"
    :analysis:
      :header:
          - Item
          - Amount
          - Partial (%)
          - Total (%)
      :options:
          - :width: 35
          - :width: 15
            :align: "center"
          - :width: 12
            :align: "center"
          - :width: 12
            :align: "center"
    :trip:
      :header:
        - Category
        - Amount
        - (%)
      :options:
        - :width: 25
        - :width: 20
          :align: "center"
        - :width: 10
          :align: "center"
    :globaltrip:
      :header:
        - Trip
        - Amount
        - (%)
      :options:
        - :width: 20
        - :width: 20
          :align: "center"
        - :width: 10
          :align: "center"
    :networth:
      :header:
        - Description
        - Amount
        - (%)
      :options:
        - :width: 30
        - :width: 20
          :align: "center"
        - :width: 10
          :align: "center"
    :totals:
      :income:
        :width: 17
        :align: "right"
      :expense:
        :width: 17
        :align: "left"
      :total:
        :width: 35
        :align: "center"
      :percentage:
        :width: 8
        :align: "right"
  :fields:
    :money:
      :display:
        :sign_positive: true
        :decimal_mark: "."
        :thousands_separator: ","
        :format: "%n%u"
      :ledger:
        :sign_positive: true
        :decimal_mark: "."
        :thousands_separator: ""
        :format: "%n%u"
        :symbol: false

:encryption:
  :enabled: true
  :algorithm: AES-256-CBC
  :credentials:
    :password: {{ ledger_password }}
    :salt: {{ ledger_salt }}
