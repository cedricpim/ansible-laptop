---
- name: "install shell utilities"
  pacman:
    name: "{{ item }}"
    state: "present"
  with_items:
    - "openssh"
    - "easy-rsa"
    - "rsync"
    - "xsel"
    - "xdotool"
    - "wmctrl"
    - "ripgrep"
    - "powerline"
    - "cryptsetup"
  become: yes

- include_role:
    name: "pacaur"
    tasks_from: "install"
  with_items:
    - "diff-so-fancy"
    - "mkpasswd"
  loop_control:
    loop_var: "pkg_name"

- name: "create folder for scripts"
  file:
    path: "{{ scripts_directory }}"
    state: "directory"

- name: "copy scripts files"
  template:
    src: "scripts/{{ item }}.j2"
    dest: "{{ scripts_directory }}/{{ item }}"
    mode: "0700"
  with_items:
    - "luks"
    - "update-repos"

- name: "create folder for SSH"
  file:
    path: "~/.ssh"
    state: "directory"

- name: "set SSH configuration"
  template:
    src: "ssh/config.j2"
    dest: "~/.ssh/config"
    mode: "0644"

- import_tasks: git.yml
- import_tasks: htop.yml
- import_tasks: urlview.yml
- import_tasks: neofetch.yml
