---
- import_tasks: main.yml

- name: "Ensure neovim is installed"
  pacman:
    name: "neovim"
    state: "present"
  become: yes

- name: "Check if {{ pkg_name }} is installed"
  command: "pacman -Q {{ pkg_name }}"
  changed_when: false
  failed_when: false
  register: aur_package_check

- name: "Install {{ pkg_name }}"
  command: "pacaur -S {{ pkg_name }} --needed --noconfirm"
  when: aur_package_check is defined and aur_package_check.rc != 0
